(this.webpackJsonpkwizz=this.webpackJsonpkwizz||[]).push([[0],{137:function(e,t,a){e.exports=a.p+"static/media/nerd.83f1719b.png"},198:function(e,t,a){},275:function(e,t,a){e.exports=a.p+"static/media/failure.d6aaa211.gif"},276:function(e,t,a){e.exports=a.p+"static/media/right.1f40299b.gif"},277:function(e,t,a){e.exports=a.p+"static/media/winner.8d4c2cae.gif"},329:function(e,t,a){e.exports=a(514)},334:function(e,t,a){},390:function(e,t,a){},464:function(e,t,a){var n={"./amplify-amazon-button_5.entry.js":[533,4],"./amplify-auth-fields_9.entry.js":[534,18],"./amplify-authenticator.entry.js":[535,5],"./amplify-button_3.entry.js":[536,6],"./amplify-checkbox.entry.js":[537,25],"./amplify-confirm-sign-in_8.entry.js":[538,7],"./amplify-container.entry.js":[539,26],"./amplify-federated-buttons_2.entry.js":[540,8],"./amplify-federated-sign-in.entry.js":[541,19],"./amplify-form-field_4.entry.js":[542,27],"./amplify-greetings.entry.js":[543,9],"./amplify-icon-button.entry.js":[544,28],"./amplify-icon.entry.js":[545,22],"./amplify-link.entry.js":[546,29],"./amplify-nav_2.entry.js":[547,10],"./amplify-photo-picker.entry.js":[548,20],"./amplify-picker.entry.js":[549,21],"./amplify-radio-button_2.entry.js":[550,11],"./amplify-s3-album.entry.js":[551,12],"./amplify-s3-image-picker.entry.js":[552,13],"./amplify-s3-image.entry.js":[553,17],"./amplify-s3-text-picker.entry.js":[554,14],"./amplify-s3-text.entry.js":[555,15],"./amplify-select-mfa-type.entry.js":[556,16],"./amplify-sign-in-button.entry.js":[557,23],"./amplify-tooltip.entry.js":[558,30]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=464,e.exports=r},514:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(55),s=a.n(i),l=(a(334),a(9)),o=a.n(l),c=a(16),u=a(86),m=a(51),d=a(66),p=a(32),g=a(61),h=a(60),f=a(12),b=a(88),y=a(77),w=a(590),E=a(264),v=a(582),q=a(586),O=a(596),x=a(589),C=(a(197),a(198),a(577)),S=a(578),k=a(267),j=a(579),z=a(137),T=a.n(z),I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(C.a,{id:"contentContainer"},r.a.createElement(S.a,null,r.a.createElement(k.a,null," ",r.a.createElement(j.a,null,r.a.createElement("span",{className:"quizTitle"},r.a.createElement("img",{src:T.a,width:"80px",alt:"Kwizz"})),r.a.createElement("span",{className:"quizTitle"},"Kwizz"),r.a.createElement("p",{className:"quizDescription"},"Become th\xe9 Kwizz Guru amongst colleagues, friends and family.")))),r.a.createElement(S.a,null,r.a.createElement(k.a,null," ",r.a.createElement("main",null,e.children))))))},N={aws_project_region:"us-west-2",aws_appsync_graphqlEndpoint:"https://vocwmjzxczae7flppftslqmfvu.appsync-api.us-west-2.amazonaws.com/graphql",aws_appsync_region:"us-west-2",aws_appsync_authenticationType:"AWS_IAM",aws_cognito_identity_pool_id:"us-west-2:bd88d85b-0b5f-4819-a092-4c8ec3e16eb0",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_MRrndZYkQ",aws_user_pools_web_client_id:"7h9846221934vinp7sqak3g2tg",oauth:{},aws_user_files_s3_bucket:"questionimages135310-planeturi",aws_user_files_s3_bucket_region:"us-west-2",predictions:{interpret:{interpretText:{region:"us-west-2",proxy:!1,defaults:{type:"LANGUAGE"}}}}},A=Object(w.b)({models:{Quiz:{name:"Quiz",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},title:{name:"title",isArray:!1,type:"String",isRequired:!0,attributes:[]},seconds:{name:"seconds",isArray:!1,type:"Int",isRequired:!0,attributes:[]},currentQuestion:{name:"currentQuestion",isArray:!1,type:"String",isRequired:!1,attributes:[]},questionOrder:{name:"questionOrder",isArray:!1,type:"String",isRequired:!1,attributes:[]},started:{name:"started",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},questionTime:{name:"questionTime",isArray:!1,type:"Int",isRequired:!1,attributes:[]},view:{name:"view",isArray:!1,type:"Int",isRequired:!1,attributes:[]},owner:{name:"owner",isArray:!1,type:"String",isRequired:!0,attributes:[]}},syncable:!0,pluralName:"Quizzes",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]},Questions:{name:"Questions",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},image:{name:"image",isArray:!1,type:"String",isRequired:!1,attributes:[]},imageFromS3:{name:"imageFromS3",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},youtube:{name:"youtube",isArray:!1,type:"String",isRequired:!1,attributes:[]},question:{name:"question",isArray:!1,type:"String",isRequired:!0,attributes:[]},answerOne:{name:"answerOne",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerOneCorrect:{name:"answerOneCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerTwo:{name:"answerTwo",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerTwoCorrect:{name:"answerTwoCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerThree:{name:"answerThree",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerThreeCorrect:{name:"answerThreeCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerFour:{name:"answerFour",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerFourCorrect:{name:"answerFourCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},quizID:{name:"quizID",isArray:!1,type:"String",isRequired:!0,attributes:[]},order:{name:"order",isArray:!1,type:"Int",isRequired:!1,attributes:[]},public:{name:"public",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},fromLibrary:{name:"fromLibrary",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},category:{name:"category",isArray:!1,type:"String",isRequired:!1,attributes:[]}},syncable:!0,pluralName:"Questions",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]},QuestionsDB:{name:"QuestionsDB",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},image:{name:"image",isArray:!1,type:"String",isRequired:!1,attributes:[]},imageFromS3:{name:"imageFromS3",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},youtube:{name:"youtube",isArray:!1,type:"String",isRequired:!1,attributes:[]},question:{name:"question",isArray:!1,type:"String",isRequired:!0,attributes:[]},answerOne:{name:"answerOne",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerOneCorrect:{name:"answerOneCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerTwo:{name:"answerTwo",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerTwoCorrect:{name:"answerTwoCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerThree:{name:"answerThree",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerThreeCorrect:{name:"answerThreeCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},answerFour:{name:"answerFour",isArray:!1,type:"String",isRequired:!1,attributes:[]},answerFourCorrect:{name:"answerFourCorrect",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},relatedQuestion:{name:"relatedQuestion",isArray:!1,type:"String",isRequired:!0,attributes:[]},public:{name:"public",isArray:!1,type:"Boolean",isRequired:!1,attributes:[]},category:{name:"category",isArray:!1,type:"String",isRequired:!1,attributes:[]},language:{name:"language",isArray:!1,type:"String",isRequired:!1,attributes:[]}},syncable:!0,pluralName:"QuestionsDBS",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]},Subscribers:{name:"Subscribers",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},type:{name:"type",isArray:!1,type:"String",isRequired:!0,attributes:[]},score:{name:"score",isArray:!1,type:"Int",isRequired:!0,attributes:[]},quizID:{name:"quizID",isArray:!1,type:"String",isRequired:!0,attributes:[]},name:{name:"name",isArray:!1,type:"String",isRequired:!0,attributes:[]}},syncable:!0,pluralName:"Subscribers",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]},Responses:{name:"Responses",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},quiz:{name:"quiz",isArray:!1,type:"String",isRequired:!0,attributes:[]},subscriber:{name:"subscriber",isArray:!1,type:"String",isRequired:!0,attributes:[]},question:{name:"question",isArray:!1,type:"String",isRequired:!0,attributes:[]}},syncable:!0,pluralName:"Responses",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]},Languages:{name:"Languages",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},type:{name:"type",isArray:!1,type:"String",isRequired:!0,attributes:[]},code:{name:"code",isArray:!1,type:"String",isRequired:!0,attributes:[]}},syncable:!0,pluralName:"Languages",attributes:[{type:"model",properties:{}},{type:"key",properties:{name:"ByCode",fields:["type","code"],queryField:"getLangByCode"}},{type:"auth",properties:{rules:[{allow:"public",provider:"iam",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},version:"ed0c279c01a08726da2a28cdefd11640"}),F=A.Quiz,Q=A.Questions,R=A.QuestionsDB,D=A.Subscribers,B=A.Responses,L=A.Languages,_=a(13);function G(){return(G=Object(c.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.save(new D({name:t,score:0,type:"set",version:0,quizID:localStorage.getItem("gamecode")})).then((function(e){var t=e.id;localStorage.setItem("subscriber",t),a("game")})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){return console.log("komt hier"),w.a.configure({syncExpressions:[Object(_.n)(F,(function(){return function(e){return e.id("beginsWith",localStorage.getItem("gamecode"))}})),Object(_.n)(Q,(function(){return function(e){return e.quizID("beginsWith",localStorage.getItem("gamecode"))}})),Object(_.n)(R,(function(){return function(e){return e.id("eq",null)}})),Object(_.n)(D,(function(){return function(e){return e.quizID("beginsWith",localStorage.getItem("gamecode"))}})),Object(_.n)(B,(function(){return function(e){return e.quiz("beginsWith",localStorage.getItem("gamecode"))}})),Object(_.n)(L,(function(){return function(e){return e.id("eq",null)}}))]}),w.a.start(),function(e,t){G.apply(this,arguments)}(e.name,e.changePath),null},P=a(19),H=a(583),U=a(21),$=a(151),W=a(157),M=(a(390),{mass:5,tension:1e3,friction:200});var Y=function(e){var t=e.list,a=[];if(t.length>0){var i=0;t.map((function(e){if(++i<6){var t="".concat(i,". ").concat(e.name,":  ").concat(e.score);return a.push(t),"".concat(i,". ").concat(e.name,":  ").concat(e.score)}e.id===localStorage.getItem("subscriber")&&a.push("".concat(i,". YOUR POSITION:  ").concat(e.score))}))}var s=Object(n.useState)(!0),l=Object(P.a)(s,2),o=l[0],c=l[1],u=Object(W.b)(a.length,{config:M,opacity:o?1:0,x:o?0:20,height:o?80:0,from:{opacity:0,x:20,height:0}});return r.a.createElement("div",{className:"trails-main",onClick:function(){return c((function(e){return!e}))}},r.a.createElement("div",null,u.map((function(e,t){var n=e.x,i=e.height,s=Object($.a)(e,["x","height"]);return r.a.createElement(W.a.div,{key:a[t],className:"trails-text",style:Object(U.a)(Object(U.a)({},s),{},{transform:n.interpolate((function(e){return"translate3d(0,".concat(e,"px,0)")}))})},r.a.createElement(W.a.div,{style:{height:i}},a[t]))}))))},J=function(e){var t=e.videoSrcURL;e.videoTitle,Object($.a)(e,["videoSrcURL","videoTitle"]);return r.a.createElement("div",{className:"video"},r.a.createElement("iframe",{src:t+"?autoplay=1&autohide=1&showinfo=0&controls=0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",title:"youtubemovie",frameBorder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowFullScreen:!0,autoPlay:!0}))},V=a(275),Z=a.n(V),X=a(276),ee=a.n(X),te=a(277),ae=a.n(te),ne=a(85),re=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={subscriber:localStorage.getItem("subscriber"),question:{},quiz:{},disabled:!1,timer:0,rightAnswer:"",view:0,topList:[],answerState:!1},n.listQuiz(),n.setAnswer=n.setAnswer.bind(Object(p.a)(n)),n.showAnswer=n.showAnswer.bind(Object(p.a)(n)),n.showQuestions=n.showQuestions.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"listQuiz",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,i,s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,(function(e){return e.id("eq",localStorage.getItem("gamecode"))}));case 2:if(t=e.sent,a=t[0].currentQuestion,!t[0].started){e.next=24;break}return 0===t[0].view&&"true"===localStorage.getItem("disabled")?this.setState({disabled:!0}):(localStorage.setItem("disabled",!1),this.setState({disabled:!1})),e.next=8,w.a.query(Q,(function(e){return e.id("eq",a)}));case 8:if(n=e.sent,r=n[0],i="",""!==r.answerOne&&r.answerOneCorrect&&(i=r.answerOne),""!==r.answerTwo&&r.answerTwoCorrect&&(i=r.answerTwo),""!==r.answerThree&&r.answerThreeCorrect&&(i=r.answerThree),""!==r.answerFour&&r.answerFourCorrect&&(i=r.answerFour),(s=[]).push(r),2!==t[0].view&&3!==t[0].view){e.next=23;break}return e.next=20,w.a.query(D,(function(e){return e.quizID("eq",localStorage.getItem("gamecode"))}));case 20:l=e.sent,c=l.sort((function(e,t){return t.score-e.score})),this.setState({topList:c,answerState:!1});case 23:this.setState({quiz:t[0],view:t[0].view,question:s[0],timer:Date.now(),rightAnswer:i,disabled:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAnswer",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("disabled",!0),this.setState({disabled:!0}),a=0,t?(n=this.state.quiz.questionTime,a=n-Math.round((Date.now()-this.state.timer)/1e3),this.setState({answerState:!0})):this.setState({answerState:!1}),e.next=6,w.a.query(D,localStorage.getItem("subscriber"));case 6:return r=e.sent,a+=r.score,e.next=10,w.a.save(D.copyOf(r,(function(e){e.score=a})));case 10:return e.next=12,w.a.save(new B({quiz:localStorage.getItem("gamecode"),question:this.state.question.id,subscriber:this.state.subscriber}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.quiz=w.a.observe(F,localStorage.getItem("gamecode")).subscribe(Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.listQuiz();case 2:case"end":return t.stop()}}),t)}))))}},{key:"componentWillUnmount",value:function(){this.quiz.unsubscribe()}},{key:"showQuestions",value:function(){var e=this,t=this.state.question,a=this.state.disabled;"true"===localStorage.getItem("disabled")&&(a=!0);var n=t.image,i="";return null!==n&&"undefined"!==typeof n&&(i=n.slice(0,4)),r.a.createElement("div",null,r.a.createElement("span",{className:"question"},t.question),null!==t.category&&r.a.createElement("div",{className:"category"},"Category: ",t.category),r.a.createElement("div",{className:"answer"},r.a.createElement(v.a,{variant:"primary",block:!0,onClick:function(){return e.setAnswer(t.answerOneCorrect)},disabled:a},t.answerOne)),r.a.createElement("div",{className:"answer"},r.a.createElement(v.a,{variant:"success",block:!0,onClick:function(){return e.setAnswer(t.answerTwoCorrect)},disabled:a},t.answerTwo)),r.a.createElement("div",{className:"answer"},r.a.createElement(v.a,{variant:"warning",block:!0,onClick:function(){return e.setAnswer(t.answerThreeCorrect)},disabled:a},t.answerThree)),r.a.createElement("div",{className:"answer"},r.a.createElement(v.a,{variant:"danger",block:!0,onClick:function(){return e.setAnswer(t.answerFourCorrect)},disabled:a},t.answerFour)),null!==t.youtube&&r.a.createElement("div",{className:"videoQuestion"},r.a.createElement(J,{videoSrcURL:t.youtube,videoTitle:""})),(null!==t.image||""!==t.image)&&r.a.createElement("div",{className:"imageQuestionDiv"},"http"!==i?r.a.createElement(ne.a,{imgKey:n,theme:{photoImg:{maxWidth:"400px",maxHeight:"400px"}}}):r.a.createElement(H.a,{src:t.image,className:"imageQuestion",fluid:!0})))}},{key:"showAnswer",value:function(){var e=this.state.question;return r.a.createElement("div",null,r.a.createElement("span",{className:"question"},e.question),this.state.answerState&&r.a.createElement("div",{className:"gif"},r.a.createElement("div",{className:"result"},"Yeah! The right answer is: ",this.state.rightAnswer),r.a.createElement("img",{src:ee.a,width:"300px",alt:"right answer"})),!this.state.answerState&&r.a.createElement("div",{className:"gif"},r.a.createElement("div",{className:"resultfalse"},"Failed! The right answer is: ",this.state.rightAnswer),r.a.createElement("img",{src:Z.a,width:"300px",alt:"wrong answer"})))}},{key:"render",value:function(){var e="There are no questions",t=this.state.quiz;return 0===t.view&&(e=this.showQuestions()),1===t.view&&(e=this.showAnswer()),2===t.view&&(e=r.a.createElement("div",null,r.a.createElement("p",{className:"top"},"TOP 5"),r.a.createElement(Y,{list:this.state.topList}))),3===t.view&&(e=r.a.createElement("div",{className:"gif"},r.a.createElement("img",{src:ae.a,width:"300px",alt:"winner"}),r.a.createElement("p",{className:"top"},"END RESULT"),r.a.createElement(Y,{list:this.state.topList}))),r.a.createElement("div",null,e)}}]),a}(r.a.Component);w.a.configure(N);var ie=function(e){var t=Object(n.useState)([]),a=Object(P.a)(t,2),i=a[0],s=a[1],l=Object(n.useState)([]),u=Object(P.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)(0),g=Object(P.a)(p,2),h=g[0],f=g[1],b=Object(n.useState)(!0),y=Object(P.a)(b,2),E=y[0],q=y[1];function O(){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(D,(function(e){return e.quizID("eq",localStorage.getItem("gamecode"))}));case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,(function(e){return e.id("eq",localStorage.getItem("gamecode"))}));case 2:t=e.sent,a=t[0],console.log(a),"undefined"===typeof a||"undefined"===typeof a.view||(0===a.view?(f(a.questionTime),q(!0)):(f(0),q(!1)),d(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){return r.a.createElement("div",{className:"startgame"},"We will soon start with the most exciting game ever!")};return Object(n.useEffect)((function(){C(),O();var e=w.a.observe(F,localStorage.getItem("gamecode")).subscribe((function(){console.log("quizUpdated"),C()})),t=w.a.observe(D).subscribe((function(){O()})),a=null;return E?a=setInterval((function(){f((function(e){return e-1}))}),1e3):E||clearInterval(a),function(){t.unsubscribe(),e.unsubscribe(),clearInterval(a)}}),[]),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:e.signout},"Signout"),r.a.createElement(I,{quizTitle:m},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},m.started&&0===m.view&&r.a.createElement("div",{className:"quizTimer"},r.a.createElement("span",{className:"total"},h>0?h:0),r.a.createElement("span",null," seconds")),r.a.createElement("div",{className:"subscribers"},r.a.createElement("span",{className:"total"},i.length),r.a.createElement("span",null," Participants"))),m.started&&r.a.createElement(re,{gamecode:localStorage.getItem("gamecode"),subscriber:localStorage.getItem("subscriber")}),!m.started&&r.a.createElement(k,null))))},se=a(584),le=a(588),oe=a(592);var ce=function(){return r.a.createElement(oe.a,{fixed:"bottom",className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer-widget"},r.a.createElement("div",{className:"footer-widget-heading"},r.a.createElement("h3",null,r.a.createElement("a",{href:"/"},"Kwizz.guru"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/admin-faq"},"FAQ")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/alowa-apps/kwizz/issues/new/choose",target:"_blank"},"Having issues or idea?")),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.alowa.app",target:"_blank"},"Contact us"))))))},ue=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(C.a,{id:"contentContainer"},r.a.createElement(S.a,null,r.a.createElement(k.a,null," ",r.a.createElement(j.a,null,r.a.createElement("span",{className:"quizTitle"},r.a.createElement("img",{src:T.a,width:"80px",alt:"Kwizz"})),r.a.createElement("span",{className:"quizTitle"},"Kwizz"),r.a.createElement("p",{className:"quizDescription"},"Become th\xe9 Kwizz Guru amongst colleagues, friends and family.")))),r.a.createElement(S.a,null,r.a.createElement(k.a,null," ",r.a.createElement("main",null,e.children))))))},me=a(49),de=a(139),pe=a(24),ge=a(176),he=a(591);f.b.configure(N),w.a.configure(N),ge.a.configure(N);var fe=function(e){var t=Object(n.useState)([]),a=Object(P.a)(t,2),i=a[0],s=a[1],l=Object(n.useState)(!1),u=Object(P.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)(!1),g=Object(P.a)(p,2),h=g[0],f=g[1],b=Object(n.useState)(),y=Object(P.a)(b,2),E=y[0],q=y[1],O=function(){return d(!1)};function x(){return(x=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.save(new F({owner:E,title:"New quiz",code:Math.floor(Math.random()),seconds:30,timestamp:0,started:!1,questionOrder:"[]"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.a.delete(F,(function(e){return e.id("eq",h)})),w.a.delete(D,(function(e){return e.quizID("eq",h)})),w.a.delete(B,(function(e){return e.quiz("eq",h)})),e.next=5,w.a.query(Q,(function(e){return e.quizID("eq",h)}));case 5:(t=e.sent).length>0&&t.map((function(e){""===e.image&&"undefined"===typeof e.image||pe.b.remove(e.image)})),w.a.delete(Q,(function(e){return e.quizID("eq",h)})),S(s),O(),f("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge.a.currentAuthenticatedUser().then(function(){var e=Object(c.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(a.signInUserSession.idToken.payload.sub),n=a.signInUserSession.idToken.payload.sub,e.next=4,w.a.query(F,(function(e){return e.owner("eq",n)}));case 4:r=e.sent,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error: ",e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return de.a.listen("auth",(function(e){"signIn"===e.payload.event&&S(s)})),S(s),function(){}}),[]),r.a.createElement("div",{className:"signin"},r.a.createElement(he.a,null,r.a.createElement("div",{className:"signout"}," ",r.a.createElement(he.b,null)),r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement(se.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Game code"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null))),r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,i[t].id.substring(0,8)),r.a.createElement("td",null,r.a.createElement(me.b,{to:{pathname:"/run-quiz",state:{quizID:i[t].id}}},"Run Kwizz")),r.a.createElement("td",null,r.a.createElement(me.b,{to:{pathname:"/edit-quiz",state:{quizID:i[t].id}}},"Edit Kwizz")),r.a.createElement("td",null,r.a.createElement(v.a,{variant:"danger",onClick:function(){return e=i[t].id,f(e),void d(!0);var e}},"Delete Kwizz")))})))),r.a.createElement(v.a,{onClick:function(){!function(){x.apply(this,arguments)}(),S(s)},variant:"primary"},"Add Kwizz"),r.a.createElement(le.a,{show:m,onHide:O},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Delete kwizz")),r.a.createElement(le.a.Body,null,"Are you sure you want to delete this kwizz? All your data will be destroyed, except from the questions in the library!"),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"danger",onClick:function(){return function(){return C.apply(this,arguments)}()}},"Delete kwizz")))))),r.a.createElement("div",{className:"clear"}),r.a.createElement(ce,null))},be=a(295),ye=a.n(be),we=a(585),Ee=a(305),ve=a(35),qe=a(594),Oe=a(595),xe="card",Ce={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},Se=function(e){var t=e.id,a=e.index,i=e.moveCard,s=e.title,l=(e.editQuestion,e.deleteQuestion),o=Object(n.useRef)(null),c=Object(qe.a)({accept:xe,hover:function(e,t){var n;if(o.current){var r=e.index,s=a;if(r!==s){var l=null===(n=o.current)||void 0===n?void 0:n.getBoundingClientRect(),c=(l.bottom-l.top)/2,u=t.getClientOffset().y-l.top;r<s&&u<c||r>s&&u>c||(i(r,s),e.index=s)}}}}),u=Object(P.a)(c,2)[1],m=Object(Oe.a)({item:{type:xe,id:t,index:a},collect:function(e){return{isDragging:e.isDragging()}}}),d=Object(P.a)(m,2),p=d[0].isDragging?0:1;return(0,d[1])(u(o)),r.a.createElement("div",{ref:o,style:Object(U.a)(Object(U.a)({},Ce),{},{opacity:p})},r.a.createElement("h5",null,s),r.a.createElement(me.b,{to:{pathname:"/edit-question",state:{questionId:t,status:"edit"}},className:"editQuestion"},"Edit"),r.a.createElement(me.b,{onClick:function(){return l(t)}},"Delete"))};var ke=function(e){e.location;var t=Object(ve.f)();if("undefined"!==typeof t.location.state){var a=t.location.state.quizID;localStorage.setItem("adminGameCode-editquiz",a)}var i=localStorage.getItem("adminGameCode-editquiz"),s=Object(n.useState)([]),l=Object(P.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)([]),p=Object(P.a)(d,2),g=p[0],h=p[1],f=Object(n.useState)(!1),b=Object(P.a)(f,2),y=b[0],E=b[1],q=Object(n.useState)(),O=Object(P.a)(q,2),x=O[0],C=O[1],j=function(){return E(!1)};function z(){return(z=Object(c.a)(o.a.mark((function e(){var t,a,n,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,localStorage.getItem("adminGameCode-editquiz"));case 2:return t=e.sent,a=[],a=JSON.parse(t.questionOrder),-1!==(n=a.indexOf(x))&&a.splice(n,1),e.next=9,w.a.query(Q,x);case 9:return""===(r=e.sent).image&&"undefined"===typeof r.image||pe.b.remove(r.image),w.a.delete(r),e.next=14,w.a.query(R,(function(e){return e.relatedQuestion("eq",x)}));case 14:return(i=e.sent).length>0&&w.a.delete(i[0]),s=null,a.length>0&&(s=a[0]),e.next=20,w.a.save(Q.copyOf(t,(function(e){e.questionOrder=JSON.stringify(a),e.currentQuestion=s})));case 20:0===a.length&&m([]),C(""),j();case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=Object(c.a)(o.a.mark((function e(t){var a,n,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,localStorage.getItem("adminGameCode-editquiz"));case 2:if(a=e.sent,console.log(a),n=JSON.parse(a.questionOrder),h(n),r=[],null===n&&"[]"===n){e.next=17;break}i=0;case 9:if(!(i<n.length)){e.next=17;break}return e.next=12,w.a.query(Q,n[i]);case 12:"undefined"!==typeof(s=e.sent)&&r.push(s);case 14:i++,e.next=9;break;case 17:t(r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return r.a.createElement("div",null," There are no question ")}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],n=g,ye.a.mutate(n,t,a),e.next=5,w.a.query(F,i);case 5:return r=e.sent,e.next=8,w.a.save(F.copyOf(r,(function(e){e.questionOrder=JSON.stringify(n)})));case 8:T(m);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return u.map((function(e,t){return r.a.createElement(S.a,{key:t,className:"editRow"},r.a.createElement(k.a,null,r.a.createElement(Se,{key:e.id,index:t,id:e.id,moveCard:A,title:u[t].question,editQuestion:{pathname:"/edit-question",state:{questionId:u[t].id,status:"edit"}},deleteQuestion:function(){return e=u[t].id,E(!0),void C(e);var e}})))}))}return Object(n.useEffect)((function(){var e=w.a.observe(Q).subscribe((function(e){T(m)}));return T(m),function(){e.unsubscribe()}}),[]),r.a.createElement(we.a,{backend:Ee.a},r.a.createElement(he.a,null,r.a.createElement("div",{className:"signout"}," ",r.a.createElement(he.b,null)),r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement(me.b,{to:"/admin"},r.a.createElement(v.a,{className:"backButton",variant:"secondary"},"Back")),r.a.createElement("br",null),r.a.createElement("p",null,u.length," Questions"),r.a.createElement("div",{className:"addEditButtons"},r.a.createElement(v.a,{onClick:function(){t.push({pathname:"/edit-question",state:{questionId:0,status:"add"}})},variant:"primary",className:"addQuestion"},"Add Question"),"or",r.a.createElement(me.b,{to:{pathname:"/library"}},r.a.createElement(v.a,{variant:"primary",className:"addQuestionLibrary"},"Find in library"))),"undefined"===typeof u||0===u.length||"undefined"===typeof u[0]?r.a.createElement(N,null):r.a.createElement(B,null),r.a.createElement("br",null)),r.a.createElement(le.a,{show:y,onHide:j},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Delete question")),r.a.createElement(le.a.Body,null,"Are you sure you want to delete this question?"),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"danger",onClick:function(){return function(){return z.apply(this,arguments)}()}},"Delete quiz"))))))},je=a(597);var ze=function(e){var t=Object(ve.f)().location.state.quizID;localStorage.setItem("admingamecode",t);var a=t,i=Object(n.useState)([]),s=Object(P.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)([]),d=Object(P.a)(m,2),p=d[0],g=d[1],h=0,f=!1,b=30;parseInt(localStorage.getItem("seconds"))>0&&(h=parseInt(localStorage.getItem("seconds")),b=parseInt(localStorage.getItem("timer")),f=!0);var y,E=Object(n.useState)(h),C=Object(P.a)(E,2),j=C[0],z=C[1],T=Object(n.useState)(f),I=Object(P.a)(T,2),N=I[0],A=I[1],R=Object(n.useState)(b),L=Object(P.a)(R,2),_=L[0],G=L[1],K=Object(n.useState)([]),U=Object(P.a)(K,2),$=U[0],W=U[1],M=Object(n.useState)(""),V=Object(P.a)(M,2),Z=V[0],X=V[1],ee=Object(n.useState)(!1),te=Object(P.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)([]),se=Object(P.a)(ie,2),oe=se[0],ce=se[1],me=Object(n.useState)(""),de=Object(P.a)(me,2),pe=de[0],ge=de[1],fe=Object(n.useState)(0),be=Object(P.a)(fe,2),ye=be[0],we=be[1],Ee=Object(n.useState)(!1),qe=Object(P.a)(Ee,2),Oe=qe[0],xe=qe[1],Ce=Object(n.useState)(1),Se=Object(P.a)(Ce,2),ke=Se[0],ze=Se[1],Te=Object(n.useState)(0),Ie=Object(P.a)(Te,2),Ne=Ie[0],Ae=Ie[1];function Fe(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(D,(function(e){return e.quizID("eq",a)}));case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=Object(c.a)(o.a.mark((function e(t,n){var r,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,(function(e){return e.id("eq",a)}));case 2:r=e.sent,i=r[0],s=JSON.parse(i.questionOrder),Ae(s.length),l=0,s.map((function(e,t){e!==i.currentQuestion||(l=t+1)})),ze(l),t(i),null!==i.currentQuestion&&Be(n,i.currentQuestion);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return Le.apply(this,arguments)}function Le(){return(Le=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a){e.next=11;break}return e.next=3,w.a.query(Q,(function(e){return e.id("eq",a)}));case 3:n=e.sent,r="",""!==n[0].answerOne&&n[0].answerOneCorrect&&(r=n[0].answerOne),""!==n[0].answerTwo&&n[0].answerTwoCorrect&&(r=n[0].answerTwo),""!==n[0].answerThree&&n[0].answerThreeCorrect&&(r=n[0].answerThree),""!==n[0].answerFour&&n[0].answerFourCorrect&&(r=n[0].answerFour),ge(r),t(n[0]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(D,(function(e){return e.quizID("eq",localStorage.getItem("adminGameCode-editquiz"))}));case 2:a=e.sent,n=a.sort((function(e,t){return t.score-e.score})),t(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(B,(function(e){return e.question("eq",a.id)}));case 2:n=e.sent,t(n.length);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete(D,(function(e){return e.quizID("eq",a)}));case 2:return e.next=4,w.a.delete(B,(function(e){return e.quiz("eq",a)}));case 4:return e.next=6,w.a.query(F,a);case 6:return t=e.sent,e.next=9,w.a.save(F.copyOf(t,(function(e){e.currentQuestion=null})));case 9:xe(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(c.a)(o.a.mark((function e(t,n){var r,i,s,l,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(n),i=r.findIndex((function(e){return e===t})),s=r.length-1,parseInt(i)!==s){e.next=11;break}return e.next=6,w.a.query(F,a);case 6:return l=e.sent,e.next=9,w.a.save(F.copyOf(l,(function(e){e.view=3})));case 9:e.next=18;break;case 11:return c=parseInt(i)+1,e.next=14,w.a.query(F,a);case 14:return u=e.sent,e.next=17,w.a.save(F.copyOf(u,(function(e){e.currentQuestion=r[c],e.view=0})));case 17:A(!N);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){var t=e.target.value;G(t),localStorage.setItem("timer",t)}function Ue(){return/^[0-9]*$/.test(_)?(X(""),!0):(X("Enter only a number"),!1)}function $e(){return($e=Object(c.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ue()){e.next=10;break}if(A(!N),0===(n=JSON.parse(t)).length){e.next=10;break}return e.next=6,w.a.query(F,a);case 6:return r=e.sent,console.log(n),e.next=10,w.a.save(F.copyOf(r,(function(e){e.started=!0,e.currentQuestion=n[0],e.view=0,e.questionTime=parseInt(_)})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){e&&function(){Me.apply(this,arguments)}(),re(!1)}function Me(){return(Me=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(0),localStorage.setItem("seconds",0),A(!1),e.next=5,w.a.query(F,a);case 5:return t=e.sent,e.next=8,w.a.save(F.copyOf(t,(function(e){e.started=!1})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(F,a);case 2:return n=e.sent,e.next=5,w.a.save(F.copyOf(n,(function(e){e.view=t})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){""!==a&&localStorage.setItem("adminGameCode-editquiz",a);var e=w.a.observe(D).subscribe((function(){Fe(u)})),t=w.a.observe(F,localStorage.getItem("adminGameCode-editquiz")).subscribe((function(){console.log("change"),Re(g,W)})),n=w.a.observe(B).subscribe((function(){!function(e,t){Ge.apply(this,arguments)}(we,$)}));Re(g,W),Fe(u);var r=null;return N?r=setInterval((function(){var e=parseInt(_);0===j&&Ye(0),j===e&&(Ye(1),function(e){_e.apply(this,arguments)}(ce)),j===e+5&&Ye(2),z(j+1),localStorage.setItem("seconds",j+1),j===e+10&&(we(0),z(0),localStorage.setItem("seconds",0),A(!1))}),1e3):N||0===j||clearInterval(r),function(){e.unsubscribe(),t.unsubscribe(),n.unsubscribe(),clearInterval(r)}}),[N,j,_,oe,pe,ye,Ne]),r.a.createElement(he.a,null,r.a.createElement("div",{className:"signout"}," ",r.a.createElement(he.b,null)),r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement(je.a,null,r.a.createElement(je.a.Item,{href:"/admin"},"Admin Home"),r.a.createElement(je.a.Item,{active:!0},"Run Kwizz")),r.a.createElement(O.a,{className:"gamersView"},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"What your gamers see now:"),p.started?r.a.createElement("div",null,0===p.view&&r.a.createElement("div",null,null!==$.category&&r.a.createElement("div",{className:"category"},"Category: ",$.category),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement("span",{className:"question"},$.question),r.a.createElement("li",null,$.answerOne),r.a.createElement("li",null,$.answerTwo),r.a.createElement("li",null,$.answerThree),r.a.createElement("li",null,$.answerFour))),r.a.createElement(k.a,null,null!==$.youtube&&r.a.createElement("div",{className:"videoQuestion"},r.a.createElement(J,{videoSrcURL:$.youtube,videoTitle:""})),(null!==$.image||""!==$.image||"undefined"!==typeof $.image)&&r.a.createElement("div",{className:"imageQuestion"},(y=$,console.log(y),y.imageFromS3&&""!==$.image?r.a.createElement(ne.a,{imgKey:y.image,theme:{photoImg:{maxWidth:"250px",maxHeight:"250px"}}}):r.a.createElement(H.a,{src:y.image,className:"imageQuestion",fluid:!0})))))),1===p.view&&r.a.createElement("div",{className:"result"},"The right answer is: ",pe),2===p.view&&r.a.createElement("div",null,r.a.createElement("p",{className:"top"},"TOP 5"),r.a.createElement(Y,{list:oe})),3===p.view&&r.a.createElement("div",null,r.a.createElement("p",{className:"top"},"END RESULT"),r.a.createElement(Y,{list:oe}))):r.a.createElement("div",{className:"startgame"},"We will soon start with the most exciting game ever!"))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,{style:{height:"100%",width:"100%"}},0===Ne?r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"There are no questions yet!")):r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Kwizz control"),!p.started&&r.a.createElement(x.a.Group,{controlId:"timer"},Z.length>0&&r.a.createElement(q.a,{size:"sm",variant:"danger"},Z),r.a.createElement(x.a.Label,null,"Set seconds per question"),r.a.createElement(x.a.Control,{size:"sm",type:"text",name:"name",value:_,width:"20px",onChange:He})),r.a.createElement("div",{className:"controlButtons"},p.started?r.a.createElement(v.a,{onClick:function(){re(!0)},variant:"outline-danger",className:"controlStart"},"Stop quiz"):r.a.createElement(v.a,{onClick:function(){!function(e){$e.apply(this,arguments)}(p.questionOrder)},variant:"outline-success",className:"controlStart"},"Start kwizz"),!p.started&&r.a.createElement(v.a,{onClick:function(){xe(!0)},className:"controlReset",variant:"outline-danger"},"Reset"),0===j&&p.started&&3!==p.view&&r.a.createElement(v.a,{onClick:function(){!function(e,t){Pe.apply(this,arguments)}(p.currentQuestion,p.questionOrder)},className:"controlNext",variant:"success"},"Next question"))))),r.a.createElement(k.a,null," ",r.a.createElement(O.a,{style:{height:"100%",width:"100%"}},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Timer"),r.a.createElement(O.a.Text,{className:"indicator"},j,"s"),p.started&&r.a.createElement("div",null,r.a.createElement(O.a.Title,null,"Question"),r.a.createElement(O.a.Text,{className:"indicator"},ke," / ",Ne," "))))),r.a.createElement(k.a,null,r.a.createElement(O.a,{style:{height:"100%",width:"100%"}},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Total participants"),r.a.createElement(O.a.Text,{className:"indicator"},l.length),p.started&&r.a.createElement("div",null,r.a.createElement(O.a.Title,null,"Total responses"),r.a.createElement(O.a.Text,{className:"indicator"},ye)))))),r.a.createElement(le.a,{show:ae},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Title,null,"Stop kwizz")),r.a.createElement(le.a.Body,null,"Are you sure you want to stop the kwizz?"),r.a.createElement(le.a.Body,null,"Please delete the kwizz when finished and not want to run it again! Your data will be deleted so we can keep this kwizz free for everyone."),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"danger",onClick:function(){return We(!0)}},"Yes"),r.a.createElement(v.a,{variant:"success",onClick:function(){return We(!1)}},"No"))),r.a.createElement(le.a,{show:Oe},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Title,null,"Are you sure you want to reset the quiz?")),r.a.createElement(le.a.Body,null,"All ",r.a.createElement("b",null,"subscribers")," and ",r.a.createElement("b",null,"responses")," of this game will be deleted. After that you can use this game again. Subscribers need to log in again."),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"danger",onClick:function(){return function(){return Ke.apply(this,arguments)}()}},"Yes"),r.a.createElement(v.a,{variant:"success",onClick:function(){return xe(!1)}},"No"))))))},Te=a(593);var Ie=function(){return r.a.createElement("div",null,r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement(je.a,null,r.a.createElement(je.a.Item,{href:"/admin"},"Admin Home"),r.a.createElement(je.a.Item,{active:!0},"FAQ"))),r.a.createElement(Te.a,{defaultActiveKey:"0",className:"accordion"},r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"0",className:"header"},"How does kwizz.guru handle my data?"),r.a.createElement(Te.a.Collapse,{eventKey:"0"},r.a.createElement(O.a.Body,null,"You are in full control of your data. As soon as you remove a kwizz all the related data will be removed except the questions that you have added to the public library. We use google analytics with anonymous IP adresses. Our purpose is only to see how many users are using the site, we don't use this for other purposes."))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"1",className:"header"},"I have build my Kwizz, what now?"),r.a.createElement(Te.a.Collapse,{eventKey:"1"},r.a.createElement(O.a.Body,null,"You can send the game code to your colleagues, friends and family and ask them to log in with their name and game code."))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"2",className:"header"},"Can I test my kwizz first?"),r.a.createElement(Te.a.Collapse,{eventKey:"2"},r.a.createElement(O.a.Body,null,"Yes, open another browser on another device and log in with the game code. Run you quiz in the admin control and see the results in the other browser. Please make sure you reset your kwizz before your kwizzers log in."))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"3",className:"header"},"Can I use a Kwizz multiple times?"),r.a.createElement(Te.a.Collapse,{eventKey:"3"},r.a.createElement(O.a.Body,null,"Yes, but make sure you reset after each run."))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"4",className:"header"},"Are there any costs?"),r.a.createElement(Te.a.Collapse,{eventKey:"4"},r.a.createElement(O.a.Body,null,"No. We are running this service for free as long as we can effort it ;) You can always contribute:"," ",r.a.createElement("a",{href:"https://github.com/alowa-apps/kwizz",target:"_blank",rel:"noopener noreferrer"},"https://github.com/alowa-apps/kwizz")))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"5",className:"header"},"I have an idea?"),r.a.createElement(Te.a.Collapse,{eventKey:"5"},r.a.createElement(O.a.Body,null,"Please mention your idea"," ",r.a.createElement("a",{href:"https://github.com/alowa-apps/kwizz/issues/new?assignees=&labels=&template=feature_request.md&title=",target:"_blank",rel:"noopener noreferrer"},"here.")))),r.a.createElement(O.a,null,r.a.createElement(Te.a.Toggle,{as:O.a.Header,eventKey:"6",className:"header"},"How can we run a kwizz in the best way?"),r.a.createElement(Te.a.Collapse,{eventKey:"6"},r.a.createElement(O.a.Body,null,"You can run and control the Kwizz in Chrome or Safari on any device. To control the kwizz you have the best overview on a larger screen. ",r.a.createElement("b",null,"Tip:")," When the kwizz will be played on a phone, stay in the browser session and not switch between different apps."))))))},Ne=a(297),Ae=a.n(Ne),Fe=a(125),Qe=a(159),Re=a(587);f.b.configure(N),f.b.register(Qe.a),Qe.a.addPluggable(new Re.a);var De=function(){var e=Object(ve.f)(),t=Object(ve.f)().location.state.status,a=Object(ve.f)().location.state.questionId;localStorage.setItem("editQuestionStatus",t),localStorage.setItem("questionId",a);var i=Object(n.useState)(""),s=Object(P.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)(""),d=Object(P.a)(m,2),p=d[0],g=d[1],h=Object(n.useState)({image:"",youtube:"",question:"",answerOne:"",answerOneCorrect:"",answerTwo:"",answerTwoCorrect:"",answerThree:"",answerThreeCorrect:"",answerFour:"",answerFourCorrect:"",category:null,public:null,order:0,quizID:""}),f=Object(P.a)(h,2),b=f[0],y=f[1],E=Object(n.useState)([]),C=Object(P.a)(E,2),j=C[0],z=C[1],T=Object(n.useState)(!1),I=Object(P.a)(T,2),N=I[0],A=I[1];function D(){return(D=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(Q,(function(e){return e.id("eq",localStorage.getItem("questionId"))}));case 2:t=e.sent,y(t[0]),u(t[0].image);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){var e=[];return""!==b.question&&"undefined"!==typeof b.question||e.push(r.a.createElement("li",null,"Question is empty")),""!==b.answerOne&&"undefined"!==typeof b.answerOne||e.push(r.a.createElement("li",null,"Answer 1 is empty")),""!==b.answerTwo&&"undefined"!==typeof b.answerTwo||e.push(r.a.createElement("li",null,"Answer 2 is empty")),""!==b.answerThree&&"undefined"!==typeof b.answerThree||e.push(r.a.createElement("li",null,"Answer 3 is empty")),""!==b.answerFour&&"undefined"!==typeof b.answerFour||e.push(r.a.createElement("li",null,"Answer 4 is empty")),""!==b.answerOneCorrect&&"undefined"!==typeof b.answerOneCorrect&&""!==b.answerTwoCorrect&&"undefined"!==typeof b.answerTwoCorrect&&""!==b.answerThreeCorrect&&"undefined"!==typeof b.answerThreeCorrect&&""!==b.answerFourCorrect&&"undefined"!==typeof b.answerFourCorrect||e.push(r.a.createElement("li",null,"Select one answer which is the correct one")),"string"===typeof l&&l.length>0&&"string"===typeof b.youtube&&b.youtube.length>0?e.push(r.a.createElement("li",null,"You can't use an image and youtube in the same time")):""===b.youtube||"undefined"===typeof b.youtube||null===b.youtube||/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com))(\/(embed\/)(.+)?)$/.test(b.youtube)||e.push(r.a.createElement("li",null,"Use a valid YouTube video url, like https://www.youtube.com/embed/VIDEO-CODE")),e.length>0?e.splice(0,0,"There are some errors:"):e=[],z(e),e.length>0}function _(){return(_=Object(c.a)(o.a.mark((function t(){var a,n,r,i,s,u,m,d,g,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B()){t.next=36;break}return t.next=3,w.a.query(F,localStorage.getItem("adminGameCode-editquiz"));case 3:return a=t.sent,n="",r=null,i=null,s=null,"string"===typeof l&&l.length>0&&(n=l),"string"===typeof b.youtube&&b.youtube.length>0&&(r=b.youtube),"undefined"!==typeof b.category&&(i=b.category),s="undefined"!==typeof b.public&&b.public,u="unknown",t.next=15,H(b.question);case 15:return"undefined"!==typeof(m=t.sent)&&(u=m),t.next=19,w.a.query(L,(function(e){return e.code("eq",u)}));case 19:if(0!==t.sent.length){t.next=23;break}return t.next=23,w.a.save(new L({type:"lang",code:u}));case 23:return t.next=25,w.a.save(new Q({image:n,imageFromS3:!0,youtube:r,public:s,category:i,question:b.question,answerOne:b.answerOne,answerOneCorrect:b.answerOneCorrect,answerTwo:b.answerTwo,answerTwoCorrect:b.answerTwoCorrect,answerThree:b.answerThree,answerThreeCorrect:b.answerThreeCorrect,answerFour:b.answerFour,answerFourCorrect:b.answerFourCorrect,quizID:localStorage.getItem("adminGameCode-editquiz")}));case 25:if(d=t.sent,!s){t.next=29;break}return t.next=29,G("publicLibrary/"+p.name,p).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.save(new R({image:t.key,imageFromS3:!0,youtube:r,public:s,category:i,question:b.question,answerOne:b.answerOne,answerOneCorrect:b.answerOneCorrect,answerTwo:b.answerTwo,answerTwoCorrect:b.answerTwoCorrect,answerThree:b.answerThree,answerThreeCorrect:b.answerThreeCorrect,answerFour:b.answerFour,answerFourCorrect:b.answerFourCorrect,relatedQuestion:d.id,language:u}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 29:return g=d.id,h=[],(h=JSON.parse(a.questionOrder)).push(String(g)),t.next=35,w.a.save(F.copyOf(a,(function(e){e.questionOrder=JSON.stringify(h)})));case 35:e.push({pathname:"/edit-quiz",state:{quizID:localStorage.getItem("adminGameCode-editquiz")}});case 36:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(e,t){return K.apply(this,arguments)}function K(){return(K=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,a&&(n=!0),!n){e.next=4;break}return e.abrupt("return",new Promise(function(){var e=Object(c.a)(o.a.mark((function e(n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.imageFileResizer(a,800,800,"JPEG",90,0,function(){var e=Object(c.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe.b.put(t,r,{contentType:a.type}).then((function(e){n(e)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"blob");case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return $.apply(this,arguments)}function $(){return($=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.a.interpret({text:{source:{text:t},type:"LANGUAGE"}}).then((function(e){return e.textInterpretation.language})).catch((function(e){return console.log(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(c.a)(o.a.mark((function t(){var a,n,r,i,s,u,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B()){t.next=31;break}return t.next=3,w.a.query(F,localStorage.getItem("adminGameCode-editquiz"));case 3:return a="",n=null,r=null,""!==l&&(a=l),""!==b.category&&(r=b.category),""!==b.youtube&&(n=b.youtube),t.next=11,w.a.query(Q,localStorage.getItem("questionId"));case 11:return i=t.sent,t.next=14,w.a.save(Q.copyOf(i,(function(e){e.image=a,e.youtube=n,e.question=b.question,e.answerOne=b.answerOne,e.answerTwo=b.answerTwo,e.answerThree=b.answerThree,e.answerFour=b.answerFour,e.answerOneCorrect=b.answerOneCorrect,e.answerTwoCorrect=b.answerTwoCorrect,e.answerThreeCorrect=b.answerThreeCorrect,e.answerFourCorrect=b.answerFourCorrect,e.public=b.public,e.category=r})));case 14:return t.next=16,w.a.query(R,(function(e){return e.relatedQuestion("eq",localStorage.getItem("questionId"))}));case 16:if(s=t.sent,u=a,!(s.length>0)){t.next=24;break}if(s.image===l){t.next=22;break}return t.next=22,G("publicLibrary/"+p.name,p).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t.key;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 22:return t.next=24,w.a.save(R.copyOf(s[0],(function(e){e.image=u,e.youtube=n,e.question=b.question,e.answerOne=b.answerOne,e.answerTwo=b.answerTwo,e.answerThree=b.answerThree,e.answerFour=b.answerFour,e.answerOneCorrect=b.answerOneCorrect,e.answerTwoCorrect=b.answerTwoCorrect,e.answerThreeCorrect=b.answerThreeCorrect,e.answerFourCorrect=b.answerFourCorrect,e.public=b.public,e.category=r})));case 24:if(!b.public||b.fromLibrary||0!==s.length){t.next=30;break}return t.next=27,H(b.question);case 27:return m=t.sent,t.next=30,w.a.save(new R({image:u,imageFromS3:!0,youtube:n,public:b.public,category:r,question:b.question,answerOne:b.answerOne,answerOneCorrect:b.answerOneCorrect,answerTwo:b.answerTwo,answerTwoCorrect:b.answerTwoCorrect,answerThree:b.answerThree,answerThreeCorrect:b.answerThreeCorrect,answerFour:b.answerFour,answerFourCorrect:b.answerFourCorrect,relatedQuestion:localStorage.getItem("questionId"),language:m}));case 30:e.push({pathname:"/edit-quiz",state:{quizID:localStorage.getItem("adminGameCode-editquiz")}});case 31:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],g(a),e.next=4,G(localStorage.getItem("adminGameCode-editquiz")+"/"+a.name,a);case 4:n=e.sent,u(n.key);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){switch(e.target.id){case"public":y(Object(U.a)(Object(U.a)({},b),{},{public:!b.public}));break;case"question":y(Object(U.a)(Object(U.a)({},b),{},{question:e.target.value}));break;case"answer1":y(Object(U.a)(Object(U.a)({},b),{},{answerOne:e.target.value}));break;case"answer2":y(Object(U.a)(Object(U.a)({},b),{},{answerTwo:e.target.value}));break;case"answer3":y(Object(U.a)(Object(U.a)({},b),{},{answerThree:e.target.value}));break;case"answer4":y(Object(U.a)(Object(U.a)({},b),{},{answerFour:e.target.value}));break;case"image":y(Object(U.a)(Object(U.a)({},b),{},{image:e.target.value}));break;case"youtube":y(Object(U.a)(Object(U.a)({},b),{},{youtube:e.target.value}))}}function V(e){switch(e.target.id){case"answer1":y(Object(U.a)(Object(U.a)({},b),{},{answerOneCorrect:!0,answerTwoCorrect:!1,answerThreeCorrect:!1,answerFourCorrect:!1}));break;case"answer2":y(Object(U.a)(Object(U.a)({},b),{},{answerOneCorrect:!1,answerTwoCorrect:!0,answerThreeCorrect:!1,answerFourCorrect:!1}));break;case"answer3":y(Object(U.a)(Object(U.a)({},b),{},{answerOneCorrect:!1,answerTwoCorrect:!1,answerThreeCorrect:!0,answerFourCorrect:!1}));break;case"answer4":y(Object(U.a)(Object(U.a)({},b),{},{answerOneCorrect:!1,answerTwoCorrect:!1,answerThreeCorrect:!1,answerFourCorrect:!0}))}}function Z(){return r.a.createElement(Fe.a,{options:[{value:"general",label:"general"},{value:"grammar",label:"grammar"},{value:"math",label:"math"},{value:"movies",label:"movies"},{value:"music",label:"music"},{value:"pictures",label:"pictures"},{value:"showbizz",label:"showbizz"},{value:"sports",label:"sports"},{value:"tech",label:"tech"},{value:"topography",label:"topography"},{value:"other",label:"other"}],className:"floor",onChange:ee,defaultValue:{value:"general",label:"general"}})}function X(){return(X=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(Q,localStorage.getItem("questionId"));case 2:if("undefined"!==typeof(a=e.sent)){e.next=8;break}return e.next=6,pe.b.remove(t).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u("");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 6:e.next=20;break;case 8:if("undefined"!==typeof a.fromLibrary&&a.fromLibrary){e.next=13;break}return e.next=11,pe.b.remove(t).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof a){e.next=3;break}return e.next=3,w.a.save(Q.copyOf(a,(function(e){e.image=""})));case 3:u("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 11:e.next=20;break;case 13:return e.next=15,w.a.query(Q,localStorage.getItem("questionId"));case 15:if("undefined"===typeof(a=e.sent)){e.next=19;break}return e.next=19,w.a.save(Q.copyOf(a,(function(e){e.image=""})));case 19:u("");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=e.value;y(Object(U.a)(Object(U.a)({},b),{},{category:t}))}return Object(n.useEffect)((function(){if("edit"===localStorage.getItem("editQuestionStatus"))!function(){D.apply(this,arguments)}();else{y([])}return Z(),function(){}}),[]),r.a.createElement(he.a,null,r.a.createElement("div",{className:"signout"}," ",r.a.createElement(he.b,null)),r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement(le.a,{show:N},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Title,null,b.question)),r.a.createElement(le.a.Body,null,null!==b.youtube&&"undefined"!==typeof b.youtube&&""!==b.youtube&&r.a.createElement("div",{className:"videoQuestion"},r.a.createElement(J,{videoSrcURL:b.youtube,videoTitle:""})),null!==l&&"undefined"!==typeof l&&""!==l&&r.a.createElement("div",{className:"imageQuestion"},"add"===localStorage.getItem("editQuestionStatus")||b.imageFromS3?r.a.createElement(ne.a,{imgKey:l,theme:{photoImg:{maxHeight:"300px"}}}):r.a.createElement("img",{src:l}))),r.a.createElement(le.a.Body,null,r.a.createElement("li",null,b.answerOne),r.a.createElement("li",null,b.answerTwo),r.a.createElement("li",null,b.answerThree),r.a.createElement("li",null,b.answerFour)),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:function(){return A(!1)}},"Close"))),r.a.createElement(me.b,{to:{pathname:"/edit-quiz",state:{quizID:localStorage.getItem("adminGameCode-editquiz")}}},r.a.createElement(v.a,{className:"backButton",variant:"secondary"},"Back")),j.length>0&&r.a.createElement(q.a,{variant:"danger"},j),r.a.createElement(O.a,null,r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,b.question),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"question"},r.a.createElement(x.a.Label,null,"Question"),r.a.createElement(x.a.Control,{type:"text",placeholder:"Enter question",onChange:Y,value:b.question})))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"category"},r.a.createElement(x.a.Label,null,"Category"),Z())),r.a.createElement(k.a,null,b.fromLibrary?r.a.createElement("div",{className:"libraryQuestion"},'"This question is from the library"'):r.a.createElement(x.a.Group,{controlId:"public"},b.public?r.a.createElement(x.a.Check,{type:"checkbox",checked:!0,label:"Public library (question is copyable)",onChange:Y}):r.a.createElement(x.a.Check,{type:"checkbox",label:"Public library (question is copyable)",onChange:Y})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"answer1"},r.a.createElement(x.a.Label,null,"Answer 1"),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Control,{type:"text",value:b.answerOne,placeholder:"Enter answer 1",onChange:Y})),r.a.createElement(k.a,null,b.answerOneCorrect?r.a.createElement(x.a.Check,{type:"radio",checked:!0,label:"Correct answer?",onChange:V}):r.a.createElement(x.a.Check,{type:"radio",label:"Correct answer?",onChange:V})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"answer2"},r.a.createElement(x.a.Label,null,"Answer 2"),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Control,{type:"text",value:b.answerTwo,placeholder:"Enter answer 2",onChange:Y})),r.a.createElement(k.a,null,b.answerTwoCorrect?r.a.createElement(x.a.Check,{type:"radio",checked:!0,label:"Correct answer?",onChange:V}):r.a.createElement(x.a.Check,{type:"radio",label:"Correct answer?",onChange:V})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"answer3"},r.a.createElement(x.a.Label,null,"Answer 3"),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Control,{type:"text",value:b.answerThree,placeholder:"Enter answer 3",onChange:Y})),r.a.createElement(k.a,null,b.answerThreeCorrect?r.a.createElement(x.a.Check,{type:"radio",checked:!0,label:"Correct answer?",onChange:V}):r.a.createElement(x.a.Check,{type:"radio",label:"Correct answer?",onChange:V})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"answer4"},r.a.createElement(x.a.Label,null,"Answer 4"),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Control,{type:"text",value:b.answerFour,placeholder:"Enter answer 4",onChange:Y})),r.a.createElement(k.a,null,b.answerFourCorrect?r.a.createElement(x.a.Check,{type:"radio",checked:!0,label:"Correct answer?",onChange:V}):r.a.createElement(x.a.Check,{type:"radio",label:"Correct answer?",onChange:V})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"image"},r.a.createElement(x.a.Label,null,"Image"),r.a.createElement(S.a,null,null!==l&&"undefined"!==typeof l&&""!==l?r.a.createElement(k.a,null,r.a.createElement("div",null,"add"===localStorage.getItem("editQuestionStatus")||b.imageFromS3?r.a.createElement("div",null,r.a.createElement(ne.a,{imgKey:l,theme:{photoImg:{maxHeight:"300px"}}}),r.a.createElement(v.a,{className:"deleteImage",variant:"danger",onClick:function(){return function(e){return X.apply(this,arguments)}(l)}},"Delete Image")):r.a.createElement("img",{src:l,alt:"ramon"}))):r.a.createElement(k.a,null,r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){return M.apply(this,arguments)}})))))),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Group,{controlId:"youtube"},r.a.createElement(x.a.Label,null,"Youtube URL"),r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a.Control,{type:"text",value:b.youtube,placeholder:"https://www.youtube.com/embed/....VIDEO-ID.....",onChange:Y})))))),r.a.createElement("span",null,r.a.createElement(v.a,{onClick:function(){A(!0)},className:"preview",variant:"primary"},"Preview")),r.a.createElement("span",null,r.a.createElement(v.a,{onClick:function(){"edit"===localStorage.getItem("editQuestionStatus")?function(){W.apply(this,arguments)}():function(){_.apply(this,arguments)}()},variant:"primary"},"Save question"))))))))},Be=a(119),Le=a(513),_e=a(302),Ge=a.n(_e),Ke=a(303),Pe=a.n(Ke),He=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={questions:[],modalData:{question:""},modalState:!1,modalStateAdded:!1,category:"category",language:[],lang:"language",columns:[{dataField:"id",text:"id",hidden:!0},{dataField:"answerOne",text:"q1",hidden:!0},{dataField:"answerTwo",text:"q2",hidden:!0},{dataField:"answerThree",text:"q3",hidden:!0},{dataField:"answerThree",text:"q4",hidden:!0},{dataField:"image",text:"image",hidden:!0},{dataField:"youtube",text:"youtube",hidden:!0},{dataField:"answerFour",text:"q4",hidden:!0},{dataField:"question",text:"Question"},{dataField:"category",text:"Category"},{dataField:"language",text:"Language"},{dataField:"Preview",text:"",formatter:function(e,t){return r.a.createElement(v.a,{onClick:n.preview.bind(e,t)},"Preview")}},{dataField:"link",text:"",formatter:function(e,t){return r.a.createElement(v.a,{onClick:n.addToQuiz.bind(e,t)},"Add")}}]},n.handleList=n.handleList.bind(Object(p.a)(n)),n.handleLanguage=n.handleLanguage.bind(Object(p.a)(n)),n.listQuestions=n.listQuestions.bind(Object(p.a)(n)),n.preview=n.preview.bind(Object(p.a)(n)),n.onClose=n.onClose.bind(Object(p.a)(n)),n.addToQuiz=n.addToQuiz.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"preview",value:function(e,t){this.setState({modalData:e,modalState:!0})}},{key:"onClose",value:function(){this.setState({modalStateAdded:!1})}},{key:"addToQuiz",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r,i,s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.query(R,t.id);case 2:return n=e.sent,e.next=5,w.a.query(F,localStorage.getItem("adminGameCode-editquiz"));case 5:return r=e.sent,i=Object(U.a)(Object(U.a)({},n),{},{quizID:localStorage.getItem("adminGameCode-editquiz"),fromLibrary:!0}),e.next=9,w.a.save(new Q(i));case 9:return s=e.sent,l=s.id,c=[],(c=JSON.parse(r.questionOrder)).push(String(l)),e.next=16,w.a.save(F.copyOf(r,(function(e){e.questionOrder=JSON.stringify(c)})));case 16:this.setState({modalStateAdded:!0});case 17:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getLanguages",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.a.graphql(Object(Le.b)("\n  query GetLangByCode(\n    $type: String\n    $code: ModelStringKeyConditionInput\n    $sortDirection: ModelSortDirection\n    $filter: ModelLanguagesFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    getLangByCode(\n      type: $type\n      code: $code\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        type\n        code\n        _version\n        _deleted\n        _lastChangedAt\n        createdAt\n        updatedAt\n      }\n      nextToken\n      startedAt\n    }\n  }\n",{type:"lang",sortDirection:"ASC"})).then((function(e){var a=e.data.getLangByCode.items,n=[];a.map((function(e){return n.push(e.code),e})),n.splice(0,0,"show all"),t.setState({language:n})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.listQuestions(),this.getLanguages()}},{key:"listQuestions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",a=localStorage.getItem("languageFilter"),n=localStorage.getItem("categoryFilter"),null!==a&&"reset"!==a||(a="reset"),null!==n&&"reset"!==n||(n="reset"),"reset"!==n||"reset"!==a){e.next=11;break}return e.next=8,w.a.query(R);case 8:t=e.sent,e.next=27;break;case 11:if("reset"===n||"reset"!==a){e.next=17;break}return e.next=14,w.a.query(R,(function(e){return e.category("eq",n)}));case 14:t=e.sent,e.next=27;break;case 17:if("reset"!==n||"reset"===a){e.next=23;break}return e.next=20,w.a.query(R,(function(e){return e.language("eq",a)}));case 20:t=e.sent,e.next=27;break;case 23:if("reset"===n||"reset"===a){e.next=27;break}return e.next=26,w.a.query(R,(function(e){return e.category("eq",n).language("eq",a)}));case 26:t=e.sent;case 27:r=t.map((function(e){return{id:e.id,question:e.question,category:e.category,answerOne:e.answerOne,answerTwo:e.answerTwo,answerThree:e.answerThree,answerFour:e.answerFour,image:e.image,youtube:e.youtube,language:e.language}})),this.setState({questions:r});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleList",value:function(e){var t=e.value;localStorage.setItem("categoryFilter",t),"show all"===t&&localStorage.setItem("categoryFilter","reset"),this.listQuestions()}},{key:"handleLanguage",value:function(e){var t=e.value;localStorage.setItem("languageFilter",t),"show all"===t&&localStorage.setItem("languageFilter","reset"),this.listQuestions()}},{key:"listLanguages",value:function(){var e=this.state.language.map((function(e){return{value:e,label:e}}));return r.a.createElement(Fe.a,{options:e,onChange:this.handleLanguage,className:"lngBtn",title:"language",defaultValue:{value:"show all",label:"show all"}})}},{key:"listCategories",value:function(){return r.a.createElement(Fe.a,{options:[{value:"show all",label:"show all"},{value:"general",label:"general"},{value:"grammar",label:"grammar"},{value:"math",label:"math"},{value:"movies",label:"movies"},{value:"music",label:"music"},{value:"pictures",label:"pictures"},{value:"showbizz",label:"showbizz"},{value:"sports",label:"sports"},{value:"tech",label:"tech"},{value:"topography",label:"topography"},{value:"other",label:"other"}],onChange:this.handleList,defaultValue:{value:"show all",label:"show all"},className:"catBtn",title:"category"})}},{key:"render",value:function(){var e=this,t=this.state.modalData.image,a="";return null!==t&&"undefined"!==typeof t&&(a=t.slice(0,4)),r.a.createElement(he.a,null,r.a.createElement("div",{className:"signout"}," ",r.a.createElement(he.b,null)),r.a.createElement(ue,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(le.a,{show:this.state.modalState},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Title,null,this.state.modalData.question)),r.a.createElement(le.a.Body,null,null!==this.state.modalData.youtube&&r.a.createElement("div",{className:"videoQuestion"},r.a.createElement(J,{videoSrcURL:this.state.modalData.youtube,videoTitle:""})),null!==t&&r.a.createElement("div",{className:"imageQuestion"},r.a.createElement("div",{className:"imageQuestion"},"http"!==a?r.a.createElement(ne.a,{imgKey:t,theme:{photoImg:{width:"400px"}}}):r.a.createElement(H.a,{src:t,fluid:!0})))),r.a.createElement(le.a.Body,null,r.a.createElement("li",null,this.state.modalData.answerOne),r.a.createElement("li",null,this.state.modalData.answerTwo),r.a.createElement("li",null,this.state.modalData.answerThree),r.a.createElement("li",null,this.state.modalData.answerFour)),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:function(){return e.setState({modalState:!1})}},"Close"))),r.a.createElement(le.a,{show:this.state.modalStateAdded},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Title,null,"Success")),r.a.createElement(le.a.Body,null,"We added this question to your quiz!"),r.a.createElement(le.a.Footer,null,r.a.createElement(v.a,{variant:"primary",onClick:function(){return e.onClose()}},"Close"))),r.a.createElement(me.b,{to:{pathname:"/edit-quiz",state:{quizID:localStorage.getItem("adminGameCode-editquiz")}}},r.a.createElement(v.a,{className:"backButton",variant:"secondary"},"Back")),r.a.createElement("div",{className:"backButtonLibraryDiv"},r.a.createElement(x.a.Group,{controlId:"category",title:this.state.category},this.listCategories()),r.a.createElement(x.a.Group,{controlId:"category"},this.listLanguages())),r.a.createElement(Ge.a,{keyField:"id",data:this.state.questions,columns:this.state.columns,pagination:Pe()(),paginationSize:2}))))}}]),a}(r.a.Component),Ue=a(191);Ue.a.initialize("UA-154890668-2"),Ue.a.pageview(window.location.pathname+window.location.search),f.b.configure(N);var $e=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={name:"",gamecode:"",error:"",path:""},e.handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(u.a)({},r,n))},e.handleSubmit=Object(c.a)(o.a.mark((function t(){var a,n,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({error:""}),a=e.state.gamecode,n=e.state.name,""!==a&&""!==n){t.next=7;break}e.setState({error:"Fill in a gamecode and name"}),t.next=20;break;case 7:if("string"===typeof a&&"string"===typeof n){t.next=11;break}e.setState({error:"Fill in a correct values"}),t.next=20;break;case 11:if(!(a.length<8)){t.next=15;break}e.setState({error:"Fill in a 8 digits gamecode"}),t.next=20;break;case 15:return r={id:{beginsWith:e.state.gamecode}},t.next=18,y.a.graphql({query:"\n  query ListQuizs(\n    $filter: ModelQuizFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listQuizs(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        seconds\n        currentQuestion\n        questionOrder\n        started\n        questionTime\n        view\n        owner\n        _version\n        _deleted\n        _lastChangedAt\n        createdAt\n        updatedAt\n      }\n      nextToken\n      startedAt\n    }\n  }\n",variables:{filter:r}});case 18:0===(i=t.sent).data.listQuizs.items.length?e.setState({error:"There is no game with this code"}):(localStorage.setItem("gamecode",i.data.listQuizs.items[0].id),e.changePath("auth"));case 20:case"end":return t.stop()}}),t)}))),e.changePath=e.changePath.bind(Object(p.a)(e)),e.signout=e.signout.bind(Object(p.a)(e)),e.startApp=e.startApp.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){console.log("app started"),function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.currentCredentials().then((function(e){return console.log("data: ",e)})).catch((function(e){return console.log("error: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),null!==localStorage.getItem("path")&&this.changePath(localStorage.getItem("path"))}},{key:"signout",value:function(){w.a.delete(D,localStorage.getItem("subscriber")),w.a.delete(B,(function(e){return e.subscriber("eq",localStorage.getItem("subscriber"))})),this.setState({name:"",gamecode:"",error:"",path:""}),localStorage.setItem("path",""),localStorage.setItem("gamecode",""),localStorage.setItem("subscriber","")}},{key:"changePath",value:function(e){this.setState({path:e}),localStorage.setItem("path",e)}},{key:"startApp",value:function(){var e=this.state.error,t=this.state.path;return"auth"===t?r.a.createElement(K,{changePath:this.changePath,name:this.state.name}):"game"===t?r.a.createElement(ie,{signout:this.signout}):r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("meta",{name:"description",content:"Make an online quiz - the free alternative to Kahoot"}),r.a.createElement("title",null,"Become th\xe9 Kwizz Guru amongst colleagues, friends and family.")),r.a.createElement(I,{path:this.state.path},r.a.createElement("div",{className:"buildQuiz"},r.a.createElement(me.b,{to:"/admin"},r.a.createElement(v.a,{variant:"warning"},"Open Kwizz builder"))),e.length>0&&r.a.createElement(q.a,{variant:"danger"},e),r.a.createElement(O.a,null,r.a.createElement(O.a.Body,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Group,{controlId:"formBasicEmail"},r.a.createElement(x.a.Label,null,"What is your name?"),r.a.createElement(x.a.Control,{size:"lg",type:"text",name:"name",value:this.state.firstName,onChange:this.handleInputChange})),r.a.createElement(x.a.Group,{controlId:"gameCode"},r.a.createElement(x.a.Label,null,"Gamecode"),r.a.createElement(x.a.Control,{size:"lg",type:"text",name:"gamecode",value:this.state.lastName,onChange:this.handleInputChange}))),r.a.createElement(v.a,{size:"lg",onClick:this.handleSubmit},"Start Game")))))}},{key:"render",value:function(){return r.a.createElement(me.a,null,r.a.createElement(ve.c,null,r.a.createElement(ve.a,{exact:!0,path:"/"},this.startApp()),r.a.createElement(ve.a,{path:"/admin"},r.a.createElement(fe,null)),r.a.createElement(ve.a,{path:"/edit-quiz"},r.a.createElement(ke,null)),r.a.createElement(ve.a,{path:"/run-quiz"},r.a.createElement(ze,null)),r.a.createElement(ve.a,{path:"/edit-question"},r.a.createElement(De,null)),r.a.createElement(ve.a,{path:"/library"},r.a.createElement(He,null)),r.a.createElement(ve.a,{path:"/admin-faq"},r.a.createElement(Ie,null))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[329,2,3]]]);
//# sourceMappingURL=main.5c8a41bb.chunk.js.map